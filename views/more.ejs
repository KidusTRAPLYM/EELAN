<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/Images/ciphry.png" />
    <title>Ciphree — Share Your True Feelings, Connect, and Heal</title>
    <link rel="canonical" href="https://ciphree.com/" />
    <meta
      name="description"
      content="Ciphree is your emotional outlet. Share joy or pain anonymously and connect with others who understand. Real feelings. Real people."
    />

    <!-- Open Graph / Facebook -->
    <meta
      property="og:title"
      content="Ciphree — Share Your True Feelings, Connect, and Heal"
    />
    <meta
      property="og:description"
      content="Ciphree is your emotional outlet. Share joy or pain anonymously and connect with others who understand. Real feelings. Real people."
    />
    <meta property="og:url" content="https://ciphree.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://ciphree.com/Images/ciphry.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Ciphree — Share Your True Feelings, Connect, and Heal"
    />
    <meta
      name="twitter:description"
      content="Ciphree is your emotional outlet. Share joy or pain anonymously and connect with others who understand. Real feelings. Real people."
    />
    <meta
      name="twitter:image"
      content="https://ciphree.com/Images/ciphry.png"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: { fontFamily: { poppins: ["Poppins", "sans-serif"] } },
        },
      };
    </script>
  </head>
  <body
    class="font-poppins h-screen flex flex-col justify-center items-center relative bg-gray-100"
  >
    <!-- Section 1 -->
    <section
      id="section1"
      class="active container border p-10 w-full max-w-lg rounded-lg text-center bg-white z-10"
    >
      <h1 class="text-3xl font-bold mb-4 text-blue-500">
        Step Into Your Emotional Haven
      </h1>
      <h2 class="text-2xl font-bold mb-4 text-blue-500">Hello there!</h2>
      <p class="mb-2">
        We all carry feelings that can feel too heavy to share. Ciphree is your
        safe space to be understood. Journaling, AI chats, and connecting with
        people who get you, all in one place.
      </p>
      <p class="mb-4 font-semibold">Are you ready to explore?</p>
      <div class="flex justify-center items-center gap-2">
        <a href="/morerror">
          <button
            id="nahBtn1"
            class="bg-gray-300 hover:bg-gray-400 px-3 py-2 rounded"
          >
            Nah I am good
          </button>
        </a>

        <button
          id="yesBtn1"
          class="bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded"
        >
          Hell yeah!
        </button>
      </div>
    </section>

    <!-- Section 2: Signup Form -->
    <section
      id="section2"
      class="container border p-10 w-full max-w-lg rounded-lg gap-4 bg-white z-10"
    >
      <h2 class="text-2xl font-bold mb-4 text-blue-500">
        So let’s get started
      </h2>
      <form
        action="/register"
        method="post"
        class="flex flex-col justify-center items-center gap-4 w-full max-w-lg mx-auto"
      >
        <p class="mb-2">What shall we call you?</p>
        <input
          type="text"
          name="name"
          id="name"
          placeholder="Name"
          class="w-full border focus:outline-blue-500 p-4"
        />
        <p
          id="nameError"
          class="w-full text-left text-red-500 text-sm mt-1 hidden"
        >
          Name is either taken or contains spaces.
        </p>
        <input
          type="password"
          name="password"
          id="password"
          placeholder="Password"
          class="w-full border focus:outline-blue-500 p-4"
        />

        <div class="flex flex-wrap w-full justify-center items-center gap-2">
          <button
            id="signupBtn"
            type="submit"
            class="bg-blue-600 text-white hover:bg-blue-700 px-6 py-2 rounded"
          >
            Sign-up
          </button>
          <a href="/guest"
            ><button
              type="button"
              class="bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded"
            >
              Guest login
            </button></a
          >
        </div>
      </form>
    </section>

    <!-- Section 3: YouTube Video -->

    <!-- Section 4: Testimonials -->

    <!-- Exit Popup -->
    <div
      id="exitPopup"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-white text-black p-6 rounded-xl max-w-md w-full shadow-lg text-center space-y-4"
      >
        <h2 class="text-xl font-bold">Wait! Before you go...</h2>
        <p>Could you share a quick thought about your experience on Ciphree?</p>
        <form action="/feedback" method="post">
          <textarea
            class="w-full border border-gray-300 rounded p-2"
            rows="3"
            placeholder="Type here..."
            name="message"
          ></textarea>
          <div class="flex justify-end gap-4 mt-2">
            <button
              type="button"
              onclick="closePopup()"
              class="bg-gray-200 px-4 py-2 rounded"
            >
              Close
            </button>
            <button
              type="submit"
              class="bg-blue-600 text-white px-4 py-2 rounded"
            >
              Send
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      const section1 = document.getElementById("section1");
      const section2 = document.getElementById("section2");
      const section3 = document.getElementById("section3");

      const exitPopup = document.getElementById("exitPopup");
      const form = section2.querySelector("form");
      const nameInput = document.getElementById("name");
      const nameError = document.getElementById("nameError");
      const signupBtn = document.getElementById("signupBtn");

      // Section1 buttons

      document.getElementById("yesBtn1").addEventListener("click", () => {
        section1.classList.remove("active");
        section2.classList.add("active");
      });

      // Close popup
      function closePopup() {
        exitPopup.classList.remove("show");
      }

      // Section3 buttons
      document.getElementById("nahBtn3").addEventListener("click", () => {
        section3.classList.remove("active");
      });
      document.getElementById("videoBtn").addEventListener("click", () => {
        window.open("https://www.youtube.com/watch?v=UAFe9Msnv5E", "_blank");
      });

      // Name validation
      async function checkName(name) {
        if (!name) return false;
        const res = await fetch(`/check-name?name=${encodeURIComponent(name)}`);
        const data = await res.json();
        return data.exists;
      }
      async function validateName() {
        const value = nameInput.value.trim();
        const hasSpace = value.includes(" ");
        const exists = await checkName(value);
        if (!value || hasSpace || exists) {
          nameInput.style.borderColor = "red";
          nameError.classList.remove("hidden");
          signupBtn.disabled = true;
          return false;
        } else {
          nameInput.style.borderColor = "";
          nameError.classList.add("hidden");
          signupBtn.disabled = false;
          return true;
        }
      }
      nameInput.addEventListener("input", validateName);

      // Form submit

      document.getElementById("videoBtn").addEventListener("click", () => {
        window.open("https://www.youtube.com/watch?v=UAFe9Msnv5E", "_blank");

        // after video click, show testimonials
        section3.classList.remove("active");
      });

      document.getElementById("nahBtn3").addEventListener("click", () => {
        section3.classList.remove("active");
      });
    </script>
    <style>
      /* Add this to your */

      body {
        position: relative;
        min-height: 100vh;
        background: url(/Images/background.png) center center / cover no-repeat
          fixed;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 1rem;
        overflow: hidden;
        perspective: 1500px;
      }
      body::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(40, 101, 234, 0.612);
        mix-blend-mode: multiply;
        backdrop-filter: blur(6px);
        z-index: 0;
      }
      section {
        position: relative;
        z-index: 1;
        display: none;
        margin-top: 2rem;
        text-align: center;
      }
      section.active {
        display: block;
      }
      #exitPopup {
        display: none;
      }
      #exitPopup.show {
        display: flex;
      }
      input {
        padding: 0.5rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 0.3rem;
        width: 100%;
      }
      button {
        padding: 0.8rem 1.5rem;
        cursor: pointer;
        font-size: 1rem;
        border-radius: 0.3rem;
      }
    </style>
  </body>
</html>
