<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
    <link rel="stylesheet" href="/CSS/search.css" />
    <link rel="stylesheet" href="/CSS/dashboard.css" />
    <link rel="stylesheet" href="/CSS/post.css" />
    <link rel="stylesheet" href="/CSS/main.css" />
    <link rel="stylesheet" href="/CSS/variables.css" />
    <link rel="icon" href="/Images/ciphry.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: { fontFamily: { poppins: ["Poppins", "sans-serif"] } },
        },
      };
    </script>
  </head>
  <body>
    <div id="loader" class="loader">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
    <script>
      window.addEventListener("load", function () {
        const loader = document.getElementById("loader");
        loader.style.opacity = 0; // fade out
        setTimeout(() => {
          loader.style.display = "none"; // remove from DOM flow
        }, 400); // match with CSS transition
      });
    </script>
    <%- include('partials/navigation', { currentPage: 'search' }) %>
    <div id="page-wrapper">
      <div
        className="bg-[var(--White--)] flex h-screen flex-col items-left w-full gap-4 overflow-y-hidden"
      >
        <main class="flex flex-col gap-4">
          <div class="flex justify-between">
            <select
              class="bg-[var(--White--)] border-none text-[var(--Black--)] text-2xl p-2 rounded-md"
              style="color: var(--Black--)"
            >
              <option
                value="post"
                class="bg-[var(--White--)] text-[var(--Black--)]"
              >
                Post
              </option>
              <option value="article">Article</option>
            </select>
            <button
              class="py-1 px-2 w-32 rounded bg-blue-500 text-white hover:bg-blue-600 hover:text-white"
              style="color: var(--White--)"
            >
              Post
            </button>
          </div>

          <textarea
            name=""
            id=""
            class="bg-[var(--White--)] border-none h-[561px] resize-none focus:outline-none text-[var(--Black--) text-2xl"
            placeholder="What are you feeling?"
            style="color: var(--Black--)"
          ></textarea>
        </main>
      </div>
    </div>
  </body>
</html>

<script>
  const themeToggle = document.getElementById("themeToggle");
  const themeIcon = themeToggle.querySelector("span");

  // Load saved theme on page load
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme) {
    document.documentElement.setAttribute("data-theme", savedTheme);
    themeIcon.textContent = savedTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
  }

  // Toggle function
  themeToggle.addEventListener("click", () => {
    const currentTheme = document.documentElement.getAttribute("data-theme");
    const newTheme = currentTheme === "dark" ? "light" : "dark";
    document.documentElement.setAttribute("data-theme", newTheme);
    localStorage.setItem("theme", newTheme); // Save theme for all pages
    themeIcon.textContent = newTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
  });
</script>
<style>
  body {
    background-color: var(--White--);
  }
  .themeToggle {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 10px;
  }

  #themeToggle {
    width: 60px;
    height: 30px;
    border-radius: 30px;
    border: 1px solid var(--Black--) !important;
    background-color: var(--Gray--);
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  #themeToggle .switch {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background-color: var(--White--);
    border-radius: 50%;
    transition: transform 0.3s ease;
  }

  [data-theme="dark"] #themeToggle {
    background-color: var(--Blue--) !important;
  }

  [data-theme="dark"] #themeToggle .switch {
    transform: translateX(30px);
  }
</style>
